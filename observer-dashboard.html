<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Observer Dashboard</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    .logo {
      text-align: center;
      margin: 20px 0;
    }

    .logo img {
      max-width: 200px;
    }

    .container {
      max-width: 360px;
      margin: 0 auto;
      padding: 12px;
    }

    .box {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 10px;
    }

    button {
      width: 100%;
      height: 46px;
      margin-bottom: 10px;
      font-size: 16px;
    }
  </style>
</head>

<body>

  <div class="logo">
    <img src="./logo.png">
  </div>

  <div class="container" id="content"></div>

  <script>
    const observerProfile = {
      name: "Alex Johnson",
      phone: "555-321-7788",
      rating: 4.9,
      photo: "observer-photo.jpg"
    };

    const request = JSON.parse(localStorage.getItem("activeRequest"));
    const content = document.getElementById("content");

    if (!request || request.status === "accepted") {
      content.innerHTML = "<p>No available requests.</p>";
    } else {
      content.innerHTML = `
        <div class="box">${request.agent}</div>
        <div class="box">${request.address}</div>
        <div class="box">${request.city}, ${request.state} ${request.zip}</div>
        <div class="box">${request.date}</div>
        <div class="box">${request.time}</div>
        <div class="box">${request.duration}</div>

        <button onclick="accept()">Accept Assignment</button>
        <button onclick="decline()">Decline</button>
      `;
    }

    function accept() {
      if (!observerProfile.name || !observerProfile.phone || !observerProfile.photo || !observerProfile.rating) {
        alert("Observer profile incomplete.");
        return;
      }

      request.status = "accepted";
      request.filled = true;
      request.acceptedAt = Date.now();
      request.observer = observerProfile;

      localStorage.setItem("activeRequest", JSON.stringify(request));
      alert("Assignment accepted");
      location.reload();
    }

    function decline() {
      alert("Request declined");
    }
  </script>

</body>
</html>
